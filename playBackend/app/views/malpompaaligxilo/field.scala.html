@(field: pl.pej.malpompaligxilo.form.Field[_])
@import pl.pej.malpompaligxilo.form.field.CheckboxField
@import pl.pej.malpompaligxilo.form.field.TableCheckBoxField
@import pl.pej.malpompaligxilo.form.field.TableCheckBoxField
@import pl.pej.malpompaligxilo.form.field.EmailField
@import pl.pej.malpompaligxilo.form.field.EmailField
@import pl.pej.malpompaligxilo.form.field.SelectField
@import pl.pej.malpompaligxilo.form.field.CalculateField
@import pl.pej.malpompaligxilo.form.field.DateField
@import pl.pej.malpompaligxilo.form.field.IntField
@import pl.pej.malpompaligxilo.form.field.StringField


<div class="row">
    <div class="field1">
        <div class="fieldName">@field.caption("eo")@if(field.required){<span class="required">*</span>}@if(field.caption("eo").nonEmpty){:}</div>
        @if(field.description.nonEmpty){
            <div class="fieldDesc">@field.description.get.apply("eo")</div>
        }
    </div>
    <div class="field2">
@{
    field.`type` match {
        case StringField(false) =>
            <input type="text"
                name={field.name}
                placeholder={field.placeholder.map(_("eo")) orNull}
                />
        case StringField(true) =>
            <textarea
                name={field.name}
                placeholder={field.placeholder.map(_("eo")) orNull}></textarea>
        case IntField(min, max, step) =>
            <input type="number"
                name={field.name}
                placeholder={field.placeholder.map(_("eo")) orNull}
                min={min.map(_.toString) orNull}
                max={max.map(_.toString) orNull}
                step={step.map(_.toString) orNull}
            />
        case DateField(minDate, maxDate, yearRange) =>
            <input type="text"
                name={field.name}
                data-mindate={minDate orNull}
                data-maxdate={maxDate orNull}
                data-yearrange={yearRange orNull}
                class="formDate"
                placeholder={field.placeholder.map(_("eo")) orNull}
            />
        case CalculateField(formula) =>
            <span class="formExpression" data-name={field.name}></span>
        case SelectField(options, size) =>
            <select name={field.name} size={size.toString}>{
            options.map{ option =>
                <option value={option.value}>{option.caption("eo")}</option>
            }.toSeq
            }</select>
        case EmailField =>
            <input type="email" name={field.name} placeholder={field.placeholder.map(_("eo")) orNull} />
        case TableCheckBoxField(rows, cols, disabled, default) if cols.size == 1 =>
            <table data-name={field.name}>{
                rows.map { row =>
                    <tr><td>
                        <label for={row.id}>{row.caption("eo")}</label>
                    </td><td>
                        <input type="checkbox"
                            name={row.id} />
                    </td></tr>
                }
            }</table>
        case CheckboxField(default) =>
            <input type="checkbox" name={field.name} checked={if (default) "checked" else null}/>

        case x => Html(s"unrecognized field $x")
    }
}
    </div>
</div>